<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Euracare Patient Portal</title>
    {% load static %}
    <!-- CSS -->
    <link href="http://demo.medicplus.com.ng:86/static/bootstrap.min.css" rel="stylesheet">
    <link href="http://demo.medicplus.com.ng:86/static/owl.carousel.css" rel="stylesheet">
    <link href="http://demo.medicplus.com.ng:86/static/owl.theme.css" rel="stylesheet">
    <link href="http://demo.medicplus.com.ng:86/static/flexslider.css" rel="stylesheet">
    <link href="http://demo.medicplus.com.ng:86/static/animate.css" rel="stylesheet">
    <link href="http://demo.medicplus.com.ng:86/static/css/jquery.wizard.css" rel="stylesheet">
    <link href="http://demo.medicplus.com.ng:86/static/css/font-awesome.min.css" rel="stylesheet">
    <link href="http://demo.medicplus.com.ng:86/static/datetimepicker-master/jquery.datetimepicker.css" rel="stylesheet">
    <link href="http://demo.medicplus.com.ng:86/static/style.css" type="text/css" rel="stylesheet">
    <link href="http://demo.medicplus.com.ng:86/static/plugins/bower_components/sweetalert/sweetalert.css" type="text/css" rel="stylesheet">
    <link rel="stylesheet" href="http://demo.medicplus.com.ng:86/static/css/select2.css" />
    <link rel="stylesheet" href="http://demo.medicplus.com.ng:86/static/css/intlTelInput.css" />
    <link rel="stylesheet" href="http://demo.medicplus.com.ng:86/static/assets/css/main.css" />
    <link rel='stylesheet' href="http://demo.medicplus.com.ng:86/static/css/eurcontent.css" type='text/css' media='screen, print'
    /> {% block styles %} {% endblock %} 
    <link rel="stylesheet" href="http://demo.medicplus.com.ng:86/static/css/jquery_popup.css">
    <link rel='stylesheet' id='medical-clinic-style-css' href="http://euracare.com.gh/wp-content/themes/Euracare%20Ghana/style.css?ver=1.0.0"
        type='text/css' media='screen, print' />
    <style>
        .cmsmasters_color_scheme_footer {
            background-color: rgba(0, 4, 3, 0.84);
            display: block;
            min-width: 100%;
        }

        .intl-tel-input {
            width: 100%;
        }

        a {
            text-decoration: none;
        }

        span.required-text {
            color: red;
            font-size: 200%;
            vertical-align: text-top;
            line-height: 50%;
        }

        select {
            width: 100% !important;
        }

        .wizard .bottom-actions .btn-next,
        .wizard .bottom-actions .btn-prev {
            margin: 10px;
            background-color: #3065b5;
            color: whitesmoke;
        }

        .btn-success {
            background-color: #3065b5 !important;

        }

        .btn-info {
            color: #fff;
            background-color: #3065b5;
        }

        input[type="submit"],
        input[type="reset"],
        input[type="button"],
        button,
        .button {
            background-color: #3065b5;
        }

        .wizard .btn-next,
        .wizard .btn-prev {
            white-space: nowrap;
            background-color: #3065b5;
        }

        #contactForm {
            background-color: #fff;
            padding: 10px;
            border: solid 1px;
        }

            
            

        .navbar-default {
            background: #3065b5;
            border-bottom: 2px solid #3065b5;
            margin: 0px;
            padding: 12px 0;
        }

        .collapse-colored-col .panel-heading {
            -webkit-border-radius: 0px;
            -moz-border-radius: 0px;
            -ms-border-radius: 0px;
            border-radius: 0px;
            background: #3065b5;
            padding: 5px 15px;
        }

        .collapse-colored-col .panel,
        .collapse-colored-col .panel-default {
            border: 0px;
            -webkit-border-radius: 0px;
            -moz-border-radius: 0px;
            -ms-border-radius: 0px;
            border-radius: 0px;
            background-color: #3065b5;
            color: #fff;
        }

        .ads-section {
            background: #0392ce;
        }

        .header_mid .header_mid_inner .logo_wrap {
            width: 300px;
        }

        .header_mid .logo_wrap .logo {
            display: inline-block;
            width: auto;
            vertical-align: middle;
        }

        .header_mid .logo_wrap {
            height: 100%;
            position: relative;
            float: left;
        }

        .navbar-default .navbar-nav>.active>a,
        .navbar-default .navbar-nav>.active>a:focus,
        .navbar-default .navbar-nav>.active>a:hover {
            color: #fff;
            background-color: transparent;
        }

        .navbar-default .navbar-nav>li>a {
            color: #fff;
            text-transform: capitalize;
            font-weight: 400;
            font-size: 15px;
        }

        .testimonials {
            padding: 60px 0;
            background-color: #0392ce;
            overflow: hidden;
        }

        .know-more {
            padding: 60px 0;
            background-color: #4575bd;
            overflow: hidden;
        }

        .cmsmasters_heading {
            font-size: x-large;
        }

        .center-title h2 {
            text-transform: capitalize;
            letter-spacing: -1px;
            font-weight: 300;
            color: #fff;
            margin-bottom: 20px;
        }

        .header_mid .logo_wrap .logo img {
            max-height: 100%;
            width: auto;
            height: auto;
            margin: auto !important;
            position: relative;
            left: 0;
            right: auto;
            top: 0;
            bottom: 0;
        }

        .cmsmasters_clients_grid .cmsmasters_clients_item img {
            -webkit-transform: scale(1);
            -moz-transform: scale(1);
            transform: scale(1);
            opacity: 1;
        }
    </style>
</head>

<body>
    <!-- Static navbar -->
    <nav class="navbar navbar-default navbar-static-top">
        <div class="container">
            <div class="header_mid">
                <div class="logo_wrap">
                    <a class="logo" href="#"><img src="http://euracare.com.gh/wp-content/uploads/2017/09/small-logo.png"
                            width="450" height="170" alt="Euracare Ghana"></a>
                </div>

            </div>
            <div id="navbar" class="navbar-collapse collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li class="active"><a href="http://euracare.com.gh">Home</a></li>
                    {% if request.user.is_authenticated %}
                    <li><a href="{% url 'dashboard' %}">Continue</a></li>
                    <li><a href="{% url 'logout' %}">Logout</a></li>
                    {% else %}
                    <li><a href="{% url 'register_me' %}">Register</a></li>
                
                    <li><a href="{% url 'login' %}">Login</a></li> {% endif %}

                </ul>
            </div>
        </div>
    </nav>

    {% if register %} {% include 'htmltags/contact.html' %} {% endif %} {% block content %} {% endblock %}


   

    <div class="cl"></div>
    <div class="content_wrap fullwidth">

        <div class="middle_content entry"></div>
        <!-- _________________________ Finish Content _________________________ -->


    </div>
    </div>
    </div>
    <!-- _________________________ Finish Middle _________________________ -->
    <!-- _________________________ Start Bottom _________________________ -->
    <div id="bottom" class="cmsmasters_color_scheme_footer">
        <div class="bottom_bg">
            <div class="bottom_outer">
                <div class="bottom_inner sidebar_layout_14141414">
                    <aside id="custom-contact-info-7" class="widget widget_custom_contact_info_entries">
                        <h3 class="widgettitle">Euracare Ghana</h3>
                        <div class="adr adress_wrap cmsmasters_theme_icon_user_address"><span class="street-address contact_widget_address">24
                                Peter Ala Adjetey Ave</span><span class="locality contact_widget_city">P.O. Box CT 1235</span><span
                                class="region contact_widget_state">North Labone</span><span class="postal-code contact_widget_zip">
                            Accra, Ghana</span></div>
                    
                    </aside>
                    <aside id="text-8" class="widget widget_text">
                        <div class="textwidget"></div>
                    </aside>
                    <aside id="custom-contact-info-8" class="widget widget_custom_contact_info_entries">
                        <h3 class="widgettitle">Euracare Nigeria</h3>
                        <div class="adr adress_wrap cmsmasters_theme_icon_user_address"><span class="street-address contact_widget_address">
                            293 Younis Bashorun Street cnr Jide Oki Street, Victoria Island</span><span class="locality contact_widget_city">Lagos,
                                Nigeria</span></div>
                        <span class="contact_widget_url cmsmasters_theme_icon_user_website"><a class="url" href="http://www.euracare.com.ng">http://www.euracare.com.ng</a></span><span
                            class="contact_widget_email cmsmasters_theme_icon_user_mail"><a class="email" href="mailto:inf%6f&#64;e&#117;&#114;ac&#97;%72&#101;&#46;&#99;&#111;%6d%2en%67">&#105;nf&#111;&#64;e&#117;r&#97;c&#97;&#114;&#101;.co&#109;.&#110;g</a></span><span
                            class="contact_widget_phone cmsmasters_theme_icon_user_phone"><span class="tel">+234 (0) 700 3872
                                2273</span></span>
                    </aside>
                </div>
            </div>
        </div>
    </div>

    <footer class="footer">
        <div class="divide40"></div>
        <div class="footer-copyright">
            <div class="container">
                <span>Internet Experts Limited &copy; 2017 | All Rights Reserved</span>
            </div>
        </div>
    </footer>
    <script src="http://demo.medicplus.com.ng:86/static/jquery.min.js"></script> {#
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>#}
    <script src="http://demo.medicplus.com.ng:86/static/js/jquery.wizard.js"></script>
    <script src="http://demo.medicplus.com.ng:86/static/bootstrap.min.js"></script>
    <script src="http://demo.medicplus.com.ng:86/static/js/jquery-ui.js"></script>
    <script src="http://demo.medicplus.com.ng:86/static/jquery.flexslider-min.js" type="text/javascript"></script>
    <script src="http://demo.medicplus.com.ng:86/static/jquery.stellar.min.js" type="text/javascript"></script>
    <script src="http://demo.medicplus.com.ng:86/static/jquery.magnific-popup.min.js" type="text/javascript"></script>
    <script src="http://demo.medicplus.com.ng:86/static/wow.min.js" type="text/javascript"></script>
    <script src="http://demo.medicplus.com.ng:86/static/custom.js" type="text/javascript"></script>
    <script src="http://demo.medicplus.com.ng:86/static/plugins/bower_components/sweetalert/sweetalert.min.js"></script>
    <script src="http://demo.medicplus.com.ng:86/static/plugins/bower_components/sweetalert/jquery.sweet-alert.custom.js"></script>
    <script src="http://demo.medicplus.com.ng:86/static/js/utils.js"></script>

    <script src="http://demo.medicplus.com.ng:86/static/assets/js/skel.min.js"></script>
    <script src="http://demo.medicplus.com.ng:86/static/assets/js/util.js"></script>
    <script src="http://demo.medicplus.com.ng:86/static/assets/js/main.js"></script>

    <script src="http://demo.medicplus.com.ng:86/static/js/formSerializer.js"></script>
    <script src="http://demo.medicplus.com.ng:86/static/js/lodash.js"></script>
    <script src="http://demo.medicplus.com.ng:86/static/js/select2.full.js" type="text/javascript"></script>
    <script src="http://demo.medicplus.com.ng:86/static/js/intlTelInput.js"></script>
    <script src="http://demo.medicplus.com.ng:86/static/datetimepicker-master/jquery.datetimepicker.js"></script> 

    <script src="http://demo.medicplus.com.ng:86/static/js/jquery_popup.js"></script> {% block scripts %}{% endblock %}
    <!-- Javascript -->

    <script type="application/javascript">
        var districts = [];
        var lgas = [];
        var addContact = function () {
            if ($('#contactForm [name="type"]').val() !== " ") {
                var exten = $("#patient_phones").intlTelInput("getSelectedCountryData");
                var country_name = exten.name;
                $("#nation_id").val(country_name);
                if ($("#patient_phones").intlTelInput('isValidNumber')) {
                    var int_no = $("#patient_phones").intlTelInput("getNumber", intlTelInputUtils.numberFormat.INTERNATIONAL)
                    var vars = $('#patientContacts').val();
                    var oldPhones = vars !== '' ? JSON.parse(vars) : [];

                    var phones = $('#contactForm').serializeObject();
                    oldPhones.push(phones);
                    $('#patientContacts').val(JSON.stringify(oldPhones));
                    $('#contactForm')[0].reset();
                    $('#contactForm [name="nation_id"]').val("");
                    var init = $('#contactForm [name="type"] option:first-child').attr('value');
                    $('#contactForm [name="type"]').val(init);
                    $('[name="primary"]');
                    var vals = [];
                    _.each(oldPhones, function (obj) {
                        vals.push(int_no + (obj.primary && obj.primary == "on" ? ' *Primary' : ''));
                    });
                    $('#phonen').val(vals.join(', '));
                    var display = $("#show_phone").val()
                    if (display == '') {
                        $("#show_phone").val(int_no);
                    } else {
                        $("#show_phone").val($("#show_phone").val() + "," + int_no)
                    }

                } else {
                    swal({
                        title: "Invalid!",
                        text: "The number your typed is not correct",
                    });
                }

            } else {
                swal({
                    title: "Incomplete!",
                    text: "Your form is not completely filled",
                });
            }
        }
        var now = new Date().toISOString().split('T')[0];
        $(document).ready(function () {
            $(".reset_phone").click(function () {
                $("#show_phone").val("");
                $("#patientContacts").val("");
            })

            $("#id_res_lga").select2({
                placeholder: 'select LGA',
                allowClear: true,
                width: '100%',
                data: [],
                templateResult: function (result) {
                    return result.text;
                },
                templateSelection: function (selection) {
                    return selection.text;
                }
            });

            $("#id_res_dist").select2({
                placeholder: 'select district',
                allowClear: true,
                width: '100%',
                data: [],
                templateResult: function (result) {
                    return result.text;
                },
                templateSelection: function (selection) {
                    return selection.text;
                }
            });

            $("#id_country").select2({
                placeholder: 'Select country',
                allowClear: true,
                width: '100%'
            });

            $("#id_religion").select2({
                placeholder: 'select religion',
                allowClear: true,
                width: '100%'
            });

            $("#id_blood_group").select2({
                placeholder: 'select blood group',
                allowClear: true,
                width: '100%'
            });

            $("#id_genotype").select2({
                placeholder: 'select genotype',
                allowClear: true,
                width: '100%'
            });


            $("#id_district").select2({
                placeholder: 'select district',
                allowClear: true,
                width: '100%'
            });

            $("#id_res_state").select2({
                placeholder: 'select state',
                allowClear: true,
                width: '100%'
            }).change(function () {
                var state_id = $(this).val();
                var resDistEle = $('#id_res_dist');
                var resLgaEle = $('#id_res_lga');
                if (state_id != "") {
                    $.ajax({
                        url: '{% url 'district' %}',
                        type: 'GET',
                        data: 'state_id=' + state_id,
                        dataType: 'json',
                        beforeSend: function () {
                        },
                        complete: function (x) {
                            var originOptions = resDistEle.data('select2').options.options;
                            resDistEle.empty().select2($.extend(originOptions, { data: x.responseJSON }));
                        }
                    });

                    $.ajax({
                        url: '{% url 'lgas'%}',
                        type: 'GET',
                        data: 'state_id=' + state_id,
                        dataType: 'json',
                        beforeSend: function () {
                        },
                        complete: function (x) {
                            lgas = x.responseJSON;
                            var origOptions = resLgaEle.data('select2').options.options;
                            resLgaEle.empty().select2($.extend(origOptions, { data: lgas }));
                        }
                    });
                }
            });

            $("#id_state").select2({
                placeholder: 'Select your state',
                allowClear: true,
                width: '100%'
            }).change(function () {
                var state_id = $(this).val();
                var districtEle = $('#id_district_id');
                var lgaEle = $('#id_lga');
                if (state_id != "") {
                    $.ajax({
                        url: '{% url 'district' %}',
                        type: 'GET',
                        data: "state_id=" + state_id,
                        dataType: 'json',
                        beforeSend: function () {
                        },
                        complete: function (d) {
                            var origOptions = districtEle.data('select2').options.options;
                            districtEle.empty().select2($.extend(origOptions, { data: d.responseJSON }));
                        }
                    });

                    $.ajax({
                        url: '{% url 'lgas' %}',
                        type: 'GET',
                        data: "state_id=" + state_id,
                        dataType: 'json',
                        beforeSend: function () {
                        },
                        complete: function (d) {
                            lgas = d.responseJSON;
                            var origOptions = lgaEle.data('select2').options.options;
                            lgaEle.empty().select2($.extend(origOptions, { data: lgas }));

                        }
                    });
                }
            });


            $("#id_lga").select2({
                placeholder: 'Select your LGA',
                allowClear: true,
                width: '100%',
                data: [],
                templateResult: function (result) {
                    return result.text;
                },
                templateSelection: function (selection) {
                    return selection.text;
                }
            });

            $("#id_title").select2({
                placeholder: 'select salutations',
                allowClear: true,
                multiple: true,
                width: '100%',

            });


            $("#id_title").on("select2:select", function (evt) {
                var element = evt.params.data.element;
                var $element = $(element);

                $element.detach();
                $(this).append($element);
                $(this).trigger("change");
            });

            $("#id_district_id").select2({
                placeholder: 'Select your district',
                allowClear: true,
                width: '100%',
                data: districts,
                templateResult: function (result) {
                    return result.text;
                },
                templateSelection: function (selection) {
                    return selection.text;
                }
            });

            $("#id_sex").select2({
                placeholder: 'Select your gender',
                allowClear: true,
                width: '100%'
            });

            $("#id_industry").select2({
                placeholder: 'Select your work place',
                allowClear: true,
                width: '100%'
            });

            $('#id_date_of_birth').datetimepicker({
                format: 'Y-m-d',
                formatDate: 'Y-m-d',
                timepicker: false,
                allowclear: true,
                onShow: function (ct) {
                    this.setOptions({
                        maxDate: 0
                    });
                },
            });


            $("#id_geno_type").select2({
                placeholder: 'Select your genotype',
                allowClear: true,
                width: '100%'
            });

            $("#id_relationship").select2({
                placeholder: 'Select your next of kin relationship',
                allowClear: true,
                width: '100%'

            });
            $("#id_type").select2({
                placeholder: "Select type",
                allowClear: true,
                width: '100%'
            });


            $(".finished-text").click(function () {
                var phon = $('input[name="show_phone"]').val();
                if (phon !== "") {
                    var data = $('.createForm').serialize();
                    $.ajax({
                        type: 'POST',
                        url: "{% url 'register_me' %}",
                        data: data,
                        dataType: 'json',
                        beforeSend: function () {
                        },
                        complete: function (d) {
                            if (d.responseText == 'success') {
                                swal("Good job!", "Please proceed to the hospital front desk and complete your enrollment.", "success");
                                setTimeout(function () {
                                    location.href = 'http://euracare.com.gh';
                                }, 4000);

                            } else {
                                swal({
                                    title: "error!",
                                    text: "Please cross check and make sure you fill your contact",
                                });

                            }

                        }
                    });
                } else {
                    swal({
                        title: "error!",
                        text: "Please cross check and make sure you fill your contact",
                    });

                }

            });

            $("#patient_phones").intlTelInput();


            $("#id_next_kin_phone").intlTelInput();

            $("#show_phone").click(function () {
                dialog.dialog("open");
            })

            dialog = $("#contactForm").dialog({
                autoOpen: false,
                height: 500,
                width: 400,
                modal: true,
                close: function () {
                    $('#contactForm')[0].reset();
                }
            });



        });
    </script>
</body>

</html>
